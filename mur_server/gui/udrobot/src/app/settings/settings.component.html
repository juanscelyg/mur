<div class="grid-container">
  <mat-grid-list cols="2" rowHeight="400px">
    <mat-grid-tile *ngFor="let card of cards | async" [colspan]="card.cols" [rowspan]="card.rows">
      <mat-card class="settings-card mat-elevation-z8">
        <mat-card-header>
          <mat-card-title>
            {{card.title}}
          </mat-card-title>
        </mat-card-header>
        <div *ngIf="'Settings'==card.title">
          <mat-card-content>
            <mat-list>
              <mat-list-item>
                <mat-form-field>
                  <input matInput type="string" placeholder="Robot Address" formControlName="robot_address" value="0.0.0.0" #robot_address>
                </mat-form-field>
                <button mat-raised-button name="set-default" color="primary" (click)="set_default_handle($event)" (touchend)="set_default_handle($event)">Set Default</button>
              </mat-list-item>
              <mat-list-item>
                <mat-form-field>
                  <input matInput type="number" placeholder="Robot Port" formControlName="robot_port" value="9090" #robot_port>
                </mat-form-field>
                <button mat-raised-button name="set-server" color="primary" (click)="set_server_handle($event,robot_address,robot_port)"
                (touchend)="set_server_handle($event,robot_address,robot_port)">Set Server</button>
              </mat-list-item>
              <mat-divider></mat-divider>
              <mat-list-item>
              </mat-list-item>
              <mat-list-item>
                <mat-form-field class="mat-form-field">
                  <input matInput type="number" placeholder="X ekf" formControlName="x_ekf" value="0.0" #x_ekf>
                </mat-form-field>
                <mat-form-field class="mat-form-field">
                  <input matInput type="number" placeholder="Y ekf" formControlName="y_ekf" value="0.0" #y_ekf>
                </mat-form-field>
                <mat-form-field class="mat-form-field">
                  <input matInput type="number" placeholder="Z ekf" formControlName="z_ekf" value="-1.4" #z_ekf>
                </mat-form-field>
              </mat-list-item><mat-list-item>
                <mat-form-field class="mat-form-field">
                  <input matInput type="number" placeholder="Pitch ekf" formControlName="pitch_ekf" value="0.0" #pitch_ekf>
                </mat-form-field>
                <mat-form-field class="mat-form-field">
                  <input matInput type="number" placeholder="Roll ekf" formControlName="roll_ekf" value="0.0" #roll_ekf>
                </mat-form-field>
                <mat-form-field class="mat-form-field">
                  <input matInput type="number" placeholder="Yaw ekf" formControlName="yaw_ekf" value="0.0" #yaw_ekf>
                </mat-form-field>
              </mat-list-item><mat-list-item>
                <button mat-raised-button name="set-ekf" color="primary" (click)="set_ekf_handle($event,x_ekf,y_ekf,z_ekf,pitch_ekf,roll_ekf,yaw_ekf)"
                (touchend)="set_ekf_handle($event,x_ekf,y_ekf,z_ekf,pitch_ekf,roll_ekf,yaw_ekf)">Set EKF</button>
              </mat-list-item>
            </mat-list>
          </mat-card-content>
        </div>
        <div *ngIf="'Testings'==card.title">
          <mat-card-content>
            <mat-list>
              <mat-list-item>
                <mat-slide-toggle class="arm-margin" color="primary" [checked]="armed_label" (change)="arm_handle($event)"><b>ARM</b></mat-slide-toggle>
              </mat-list-item>
              <mat-list-item>
                <label class="status-margin" >Motor 1: {{motor_1.value}}</label>
                <mat-slider color="primary" [max]='motor_max' [min]='motor_min'
                [disabled]="!armed_enabled" (input)="get_value_motor($event, motor_1, motor_2, motor_3, motor_4)"
                [value]='motor_init' (click)="motor_1.value=motor_init; get_value_motor($event, motor_1, motor_2, motor_3, motor_4)"
                (touchend)="motor_1.value=motor_init; get_value_motor($event, motor_1, motor_2, motor_3, motor_4)" #motor_1></mat-slider>
              </mat-list-item>
              <mat-list-item>
                <label class="status-margin" >Motor 2: {{motor_2.value}}</label>
                <mat-slider color="primary" [max]="motor_max" [min]="motor_min"
                [disabled]="!armed_enabled" (input)="get_value_motor($event, motor_1, motor_2, motor_3, motor_4)"
                [value]='motor_init' (click)="motor_2.value=motor_init; get_value_motor($event, motor_1, motor_2, motor_3, motor_4)"
                (touchend)="motor_2.value=motor_init; get_value_motor($event, motor_1, motor_2, motor_3, motor_4)" #motor_2></mat-slider>
              </mat-list-item>
              <mat-list-item>
                <label class="status-margin" >Motor 3: {{motor_3.value}}</label>
                <mat-slider color="primary" [max]="motor_max" [min]="motor_min"
                [disabled]="!armed_enabled" (input)="get_value_motor($event, motor_1, motor_2, motor_3, motor_4)"
                [value]='motor_init' (click)="motor_3.value=motor_init; get_value_motor($event, motor_1, motor_2, motor_3, motor_4)"
                (touchend)="motor_3.value=motor_init; get_value_motor($event, motor_1, motor_2, motor_3, motor_4)" #motor_3></mat-slider>
              </mat-list-item>
              <mat-list-item>
                <label class="status-margin" >Motor 4: {{motor_4.value}}</label>
                <mat-slider color="primary" [max]="motor_max" [min]="motor_min"
                [disabled]="!armed_enabled" (input)="get_value_motor($event, motor_1, motor_2, motor_3, motor_4)"
                [value]='motor_init' (click)="motor_4.value=motor_init; get_value_motor($event, motor_1, motor_2, motor_3, motor_4)"
                (touchend)="motor_4.value=motor_init; get_value_motor($event, motor_1, motor_2, motor_3, motor_4)" #motor_4></mat-slider>
              </mat-list-item>
          </mat-list>
          </mat-card-content>
        </div>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
